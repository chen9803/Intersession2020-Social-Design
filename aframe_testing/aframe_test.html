<html>

<head>
  <meta charset="utf-8">
  <title>Aframe Quiz Prototype</title>
  <meta name="description" content="Aframe Quiz Prototype">
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <script type="text/javascript" src="../question_bank.js"></script>
  <script type="text/javascript" src="aframe_test_script.js"></script>
</head>

<body>
  <script>

    //sets up all containers and text
    AFRAME.registerComponent('scorebox', {
      update: function () {
        var el = this.el
        el.setAttribute("text", "value", "Score " + score)
      }
    });

    AFRAME.registerComponent('promptbox', {
      init: function () {
        var el = this.el
        el.setAttribute("text", "value", questionList[questionNumber].prompt)
      }
    });

    //setting up answer boxes
    AFRAME.registerComponent('choice' + answer1, {
      update: function () {
        var el = this.el
        el.setAttribute("text", "value", questionList[questionNumber].correctAnswer)
        this.el.addEventListener("mouseenter", function(){
          el.setAttribute("material", "color", "yellow")
        });
        this.el.addEventListener("mouseleave", function(){
          el.setAttribute("material", "color", "#4CC3D9")
        });
      }
    });

    AFRAME.registerComponent('choice' + answer2, {
      update: function () {
        var el = this.el
        el.setAttribute("text", "value", questionList[questionNumber].wrongAnswer1)
        this.el.addEventListener("mouseenter", function(){
          el.setAttribute("material", "color", "yellow")
        });
        this.el.addEventListener("mouseleave", function(){
          el.setAttribute("material", "color", "#4CC3D9")
        });
      }
    });

    AFRAME.registerComponent('choice' + answer3, {
      update: function () {
        var el = this.el
        el.setAttribute("text", "value", questionList[questionNumber].wrongAnswer2)
        this.el.addEventListener("mouseenter", function(){
          el.setAttribute("material", "color", "yellow")
        });
        this.el.addEventListener("mouseleave", function(){
          el.setAttribute("material", "color", "#4CC3D9")
        });
      }
    });

    AFRAME.registerComponent('choice' + answer4, {
      update: function () {
        var el = this.el
        el.setAttribute("text", "value", questionList[questionNumber].wrongAnswer3)
        this.el.addEventListener("mouseenter", function(){
          el.setAttribute("material", "color", "yellow")
        });
        this.el.addEventListener("mouseleave", function(){
          el.setAttribute("material", "color", "#4CC3D9")
        });
      }
    });
  </script>


<!--aframe elements-->
  <a-scene background="color: #FAFAFA">
    <a-entity scorebox id="scoreValue" class="temp" geometry="primitive: plane; width: 4; height: auto" material="opacity:0"
      text="value: test; color: black; align: center" position="0 3.5 -3"></a-entity>

    <a-entity promptbox id="question" class="temp" geometry="primitive: plane; width: 4; height: auto" material="opacity:0"
      text='value: test; color: black; align: left' position='-3 3 -3'></a-entity>

    <a-entity choice1 id="choice1" class="temp" geometry="primitive: plane; width: 4; height: auto" material="color:#4CC3D9; opacity: 100"
      text='value: test; color: black; align: center' position='0 2.5 -3'></a-entity>

    <a-entity choice2 id="choice2" class="temp" geometry="primitive: plane; width: 4; height: auto" material="color:#4CC3D9; opacity: 100"
      text='value: test; color: black; align: center' position='0 2 -3'></a-entity>

    <a-entity choice3 id="choice3" class="temp" geometry="primitive: plane; width: 4; height: auto" material="color:#4CC3D9; opacity: 100"
      text='value: test; color: black; align: center' position='0 1.5 -3'></a-entity>

    <a-entity choice4 id="choice4" class="temp" geometry="primitive: plane; width: 4; height: auto" material="color:#4CC3D9; opacity: 100"
      text='value: test; color: black; align: center' position='0 1 -3'></a-entity>

    <a-entity feedback id="feedback" class="temp" geometry="primitive: plane; width: 4; height: auto" material="opacity:0"
    text='value: ; color: black; align: left' position='-3 0.75 -3'></a-entity>  

    <a-camera>
      <a-cursor id="cursor"></a-cursor>
    </a-camera>

    
    <script>
      //click events
      document.getElementById("choice1").addEventListener("click", function () {
          evalAnswer(1);
      });
      document.getElementById("choice2").addEventListener("click", function () {
          evalAnswer(2);
      });
      document.getElementById("choice3").addEventListener("click", function () {
          evalAnswer(3);
      });
      document.getElementById("choice4").addEventListener("click", function () {
          evalAnswer(4);
      });
</script>
  </a-scene>


</body>

</html>